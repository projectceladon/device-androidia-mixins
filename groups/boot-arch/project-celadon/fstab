{{^use_cic}}
# Android fstab file.
# <src>                   <mnt_point> <type>  <mnt_flags and options>  <fs_mgr_flags>
# The filesystem that contains the filesystem checker binary (typically /system) cannot
# specify MF_CHECK, and must come before any filesystems that do specify MF_CHECK
{{#dynamic-partitions}}
system   /system  ext4 ro,barrier=1 wait{{#slot-ab}},slotselect{{/slot-ab}}{{#avb}},avb_keys=/avb/q-gsi.avbpubkey:/avb/r-gsi.avbpubkey:/avb/s-gsi.avbpubkey,avb=vbmeta{{/avb}},logical,first_stage_mount
{{/dynamic-partitions}}
{{^dynamic-partitions}}
{{#avb}}
/dev/block/by-name/system       /{{^slot-ab}}system{{/slot-ab}}         {{system_fs}}    ro                                                          wait{{#slot-ab}},slotselect{{/slot-ab}},avb
{{/avb}}
{{^avb}}
/dev/block/by-name/system       /{{^slot-ab}}system{{/slot-ab}}         {{system_fs}}    ro                                                 wait{{#verity_mode}},verify{{^slot-ab}}{{#verity_warning}}=/dev/block/by-name/metadata{{/verity_warning}}{{/slot-ab}}{{/verity_mode}}{{#slot-ab}},slotselect{{/slot-ab}}
{{/avb}}
{{/dynamic-partitions}}
{{#avb}}
/dev/block/by-name/vbmeta       /vbmeta         emmc    defaults                                                   defaults{{#slot-ab}},slotselect,avb{{/slot-ab}}
{{/avb}}
{{^slot-ab}}
/dev/block/by-name/cache        /cache          ext4    noatime,nosuid,nodev,errors=panic                           wait,check
{{/slot-ab}}
/dev/block/by-name/{{#dynamic-partitions}}user{{/dynamic-partitions}}data         /data           {{^data_use_f2fs}}ext4{{/data_use_f2fs}}{{#data_use_f2fs}}f2fs{{/data_use_f2fs}}    noatime,nosuid,nodev{{^data_use_f2fs}},noauto_da_alloc,errors=panic{{/data_use_f2fs}}   wait,check,formattable{{#disk_encryption}},forceencrypt=/dev/block/by-name/metadata{{/disk_encryption}}{{#trusty}}{{#file_encryption}},fileencryption=aes-256-xts:aes-256-cts{{/file_encryption}}{{/trusty}},quota,reservedsize=50m{{#fsverity}},fsverity{{/fsverity}}{{#metadata_encryption}},latemount,keydirectory=/metadata/vold/metadata_encryption{{#userdata_checkpoint}}{{^data_use_f2fs}},checkpoint=block{{/data_use_f2fs}}{{#data_use_f2fs}},checkpoint=fs{{/data_use_f2fs}}{{/userdata_checkpoint}}{{/metadata_encryption}}
/dev/block/by-name/boot         /boot           emmc    defaults                                                    defaults{{#slot-ab}},slotselect{{#avb}},avb{{/avb}}{{/slot-ab}}
{{^slot-ab}}
/dev/block/by-name/recovery     /recovery       emmc    defaults                                                    defaults
{{/slot-ab}}
/dev/block/by-name/misc         /misc           emmc    defaults                                                    defaults
{{#trusty}}
/dev/block/by-name/tos          /tos            emmc    defaults                                                    defaults{{#slot-ab}},slotselect{{#avb}},avb{{/avb}}{{/slot-ab}}
{{/trusty}}
{{#bootloader_slot_ab}}
/dev/block/by-name/esp          /esp            emmc    defaults                                                    recoveryonly
{{/bootloader_slot_ab}}
/dev/block/by-name/bootloader   /bootloader     emmc    defaults                                                    recoveryonly{{#bootloader_slot_ab}},slotselect{{/bootloader_slot_ab}}
/dev/block/by-name/bootloader2  /bootloader2    emmc    defaults                                                    recoveryonly
/dev/block/by-name/persistent   /persistent     emmc    defaults                                                    defaults
/dev/block/by-name/metadata     /metadata       ext4    noatime,nosuid,nodev,errors=panic{{#metadata_encryption}},discard{{/metadata_encryption}}                           wait,check,formattable,first_stage_mount
{{/use_cic}}

